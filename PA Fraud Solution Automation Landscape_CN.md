# PA 欺诈解决方案自动化全景

## 项目目标

**愿景：** 实现创新、可扩展和自动化的风险决策和策略

- 基于增量学习的智能快速模型刷新，实现完整的决策层自动化，并由可靠和可扩展的解决方案和基础设施支持
- 通过协作实现创新产品和风险引擎功能
- 提高运营效率并通过可扩展性扩大商户支持覆盖范围

**思路：** 在 PA 自动化中集成 AI，使流程更加精简

---

## 自动化覆盖范围

### 模型和基础设施

- 基础设施和管道支持自动和智能的模型刷新、更新和替换
- 基础设施支持从离线到影子/上线的规则生成以及实时监控

### 解决方案自动化

#### 自动策略刷新
- 可靠且灵活的策略刷新 - 与模型刷新握手的截断优化，主导高投资组合损失捕获，自动设计的高级分段
- 通过离线和在线截断更新进行简单的策略规则更新

#### 针对欺诈攻击缓解的自动化工具
- 在细分级别（如区域、行业、流程等）进行有监督损失减少的自动解决方案
- 使用无监督损失减少（聚类或使用泊松分布等的自监督）的自动解决方案
- 商户级别的自动解决方案，使用预定义规则集或来自有监督自动解决方案工具的新用例

#### 针对规则治理和风险引擎生态系统的自动化工具
- 规则历史数据回测自动化 - 节省大量手动工作
- 规则自动退役
- 基于月度报告和新逻辑生成的规则自动优化工具
- 规则的精简模型退役/替换管道

#### 业务赋能用例（潜在）
- 在支持闪购、季节性和市场级别以及商户级别的热门活动时，快速调整分数或创建新的低风险解决方案

---

## OKR 影响

- **显著减少欺诈损失** → 目标至少减少 30%-50% 的损失
- **风险引擎生态系统的低误拒率** → 目标将误拒率降低至少 30% 至 <1%
- **减少运营工作** - 规则编写和维护 → 目标至少减少 60% 的人力投入
- **缩短商户升级的响应时间** → 目标至少缩短 60% 的响应时间，对于某些重复攻击，目标缩短 80% 的响应时间

---

## 快速模型刷新

### 高层工作流

需要与 MLE 进一步讨论快速刷新管道作为基础策略解决方案以及持续学习以提高模型性能（算法和特征）

---

## 策略快速刷新

### 步骤

1. **数据准备（联合数据拉取）：** 特征库、模型列表和关键指标、标签、冠军和挑战者模型
2. **定义策略分段**（基于业务需求、风险引擎流程）
3. **定义算法目标**（精确度、召回率、行动等）
4. **选择算法**
5. **构建目标函数**（根据细分/数据质量添加权重或调整）
6. **生成分数截断和特征组合**
7. **更新离线表和模板**
8. **转换为在线规则**
9. **在影子模式中推送规则并进行评估和自动监控** - 比较冠军规则集与挑战者规则集
10. **满足影子结果并自动上线，自动退役表现不佳的规则**
11. **可视化并在报告中总结**
12. **监控仪表板**

### 策略分段

- 基于风险引擎 2.0 配置文件设计
- 由于业务性质（如 Sub-MIT、银行转账、POS、AFT、通用卡处理等）而从不同流程中排除
- 满足商业和行业需求，如年轻卖家、平台卖家、数字（高利润）卖家和非数字卖家（OTA、直播等）
- 满足买家行为和信任性质以减少摩擦：资产的一致性、信任行为
- 基于精确度的风险行动选择

### 算法选择

XGboost、Greedy、Intelligent Exhaustive Search、MaxDifferentiated Tree 等

---

## 基础设施能力

### 刷新节奏

- 常规模型（增量学习）和策略刷新
- 按需策略刷新
- 智能触发模型和策略刷新

### 自动化工具包

- 将离线分数和细分对发送到在线的能力
- 高效的 BQ 操作工具包
- 规则转换
- 规则开关回测、自动影子、根据性能自动上线
- 规则集比较
- 技术检查以进行上线裁决/退役
- 基于模拟结果的自动裁决或退役（即自动比较冠军模型以决定是否批准挑战者模型）
- 支持多细分级别和特征选择
- 用户可以配置起点（强制特征如模型或行业等）
- 各种功能：运行窗口、历史评估等

---

## 手术式解决方案的自动化工具

### 当前挑战和机遇

#### 起点（警报门户）

需要一个由 AI 驱动的通用警报门户来管理各种警报/规则设置提醒请求/记录。

- 细分欺诈早期检测（即区域、行业或集群等）
- 商户级别欺诈早期检测（即某个阈值）
- 规则级别异常检测
- 临时警报或监控需求

#### 规则自动生成（待定：如何在此使用 AI）

- 细分级别和投资组合优化的用例
- 商户级别新欺诈模式的用例
- 重复发生的商户级别欺诈趋势的用例
- 使用 AI 解释规则配置内部使用 - 角色/配置文件/不一致性/...

### 自动化工具包

#### 用例 1 和 2：

- Python 包
- 可视化门户，包含阶段、不同用例的可配置设置
- 丰富的算法和算法选择
- 离线到在线规则逻辑转换
- 自动影子评估和一键上线/发布流程
- 发布后收益监控

#### 用例 3：

- 包含最常发生规则（模式）的现有规则集
- 轻松回测或利用规则集的异步影子结果
- 在商户级别模拟现有规则集的性能（精确度、召回率）
- 如果某个商户的性能达到阈值，则设置标志以在商户流量上自动应用规则，并设置默认过期天数

### 基础设施能力

- AI 警报（需要单独的警报门户来生成记录中的不同警报逻辑）
- 轻松回测
- 规则离线到在线转换和自动发布
- 可视化和实时异常警报
- 自动化工具的外部化
- 商户级别的自动标志设置，从离线到在线

---

## 规则管理的自动化工具

### 高层工作流

#### 用例：

1. 规则历史数据回测自动化 - 节省大量手动工作（商户级别规则扩展用例）
2. 规则自动退役
3. 基于月度报告和新逻辑生成的规则自动优化工具
4. 规则的精简模型退役/替换管道

### 自动化工具包

- 数据集中的软标签
- 基于每周/每月报告向所有者发出多轮通知的规则自动退役
- 基于对照组和软标签的规则自动微调管道 → 与欺诈缓解算法类似的不同数据准备和目标设置
- 模型退役的模型分数推荐器（MLE 现有工具第一阶段）
- 模型分数批量替换，从离线到在线推送
- 规则治理门户（性能、规则所有者、标签、配置文件、层级、尽管性能低但保留规则的原因）

### 基础设施能力（待定）

- 风险引擎 2.0 设计
- 基于监控的规则自动退役
- 模型分数批量替换
- 规则治理门户和功能

---

## 早期欺诈检测

### 方法论

- 利用软标签的有监督学习（安全或风险、置信度级别、紧急程度级别、决策级别）
- 基于链接、异常交易量激增、多警报信号的图和聚类的无监督学习
- 识别过去的攻击并删除受影响的统计数据以确保警报准确性
- 在报告/仪表板中可视化和模式总结

---

## 完全自动化全景的路径

### 第一阶段

- **紧急** - 实现策略解决方案自动化，由于此用例的高频率，节省规则生成的手动工作
- **紧急** - 实现商户级别解决方案（用例 2）自动化，由于此用例的高频率，节省规则生成的手动工作。为用例 3 选择通用规则集
- **2026Q1** - 规则监控和自动退役（待定 SOP）
- **2026Q2** - 规则自动优化

### 第二阶段

- **2026Q2** - 具有轻松回测功能的商户级别预定义规则集自动化
- **2026Q2** - 模型分数自动替换
- **2026Q3** - 策略自动化

### 第三阶段

- **长期** - 模型 + 策略握手自动化

---

## 子项目列表（进行中）

### 头脑风暴（AI 可以做什么）

- AI 可视化（Web 门户）
- AI 规则推荐（风险 Web 应用程序外部化）

### 项目详情

| 子项目 | 负责人 | 优先级 | 工作量 - 时间线 | 收益 | 备注 |
|--------|--------|--------|----------------|------|------|
| **规则自动生成器 v1** - 基于 XGBoost | @Zhaoyu Zuo | 高 | L - 2025Q4 | 节省工作量 | Python 包的第一个版本。理想版本应该在 Web 门户上 |
| **统一解决方案训练数据准备** | @Zhaoyu Zuo | 高 | M - 2025Q4 | | |
| **规则自动生成器 v2** - 商户级别微调 | @Zhaoyu Zuo @Wanqiu Zheng | 高 | | | 数据准备管道。商户规则的阈值。欺诈标签 - 结合软标签或交叉采样。算法微调 |
| **规则自动训练门户** | | | | | |
| **风险 Web 应用程序上的规则 AI 推荐外部化** | @Mark Song | | | | 与 AI 集成 - 通过 AI 功能实现更好的可视化 |
| **规则离线到在线转换** | @Mark Song | | M | | |
| **策略细分规则分数截断选择** | @Zhaoyu Zuo | | M | | |
| **策略细分规则离线到在线灵活映射** | @Mark Song | | M-L | | |
| **从离线逻辑自动影子规则** | @Mark Song | | L | | 通过离线规则转换，可以轻松推送到影子模式下的上线 |
| **规则自动退役报告** | @Jazreel Tho @Wanqiu Zheng | | M | | 策略规则阈值、通知、豁免。商户规则（软标签）阈值、通知和豁免 |
| **规则自动退役功能后端** | @Mark Song | | M | | |
| **轻松回测** | @Mark Song @Yusup Aixirefu | | L | | 目前我们无法轻松地从影子规则或行动规则在其他商户或细分上进行回测逻辑 @Zhaoyu Zuo 你能描述更多细节吗？ |
| **商户级别预定义规则集** | @Wanqiu Zheng @Zhaoyu Zuo | | M-L | | 通过解决方案自动训练工具，生成商户级别的通用规则集。利用轻松回测功能在其他商户上进行模拟 |
| **自动标志设置** | @Wanqiu Zheng @Mark Song | | | | |
| **商户级别预定义规则集自动扩展** | @Wanqiu Zheng | | | | 商户级别的警报（就绪）。从现有规则轻松回测（仅逻辑）。将标志映射应用于规则。为其他具有类似攻击的商户上线现有规则 |
| **从警报线索生成 AI 特征** | @Yusup Aixirefu @Jason Miao | | L - 年底探索 | | 特别是在没有来自 XGboost 的解决方案时进行探索，需要手动解决方案来探索新特征 |
| **Wave-Catcher AI 警报** | @Jazreel Tho | | L | | 尝试一些结合软标签的警报方法 |

---

## 附录

### 模型退役的自动化工具（MLE 工具试点）

#### 痛点

- 简化生态系统的需求不断增加
- 在规则中退役模型需要大量人力
- 缺乏自动影响分析
- 缺乏端到端的 SOP 来连接各个环节

#### 解决方案

- 具有自动化能力和跨职能协作的标准化高效流程
- 利用 AI 在人工审计下进一步简化流程

#### 目标

- 节省人力
- 加快退役周期
- 简化系统
- 外部化 - 便于商户使用 AI 替换模型
